(this["webpackJsonpstas-profile"]=this["webpackJsonpstas-profile"]||[]).push([[0],{55:function(e,t,s){},56:function(e,t,s){},60:function(e,t,s){},83:function(e,t,s){},85:function(e,t,s){},86:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){"use strict";s.r(t);var n=s(2),c=s.n(n),a=s(25),r=s.n(a),i=(s(55),s(23)),o=s(10),u=(s(56),s(21)),j=s(17),l=(s(60),s(48).a.initializeApp({apiKey:"AIzaSyC3CiIFO9Gp4Vkq85gFS7GUT22Lx4-HytA",authDomain:"stas-base.firebaseapp.com",databaseURL:"https://stas-base-default-rtdb.europe-west1.firebasedatabase.app",projectId:"stas-base",storageBucket:"stas-base.appspot.com",messagingSenderId:"481457771311",appId:"1:481457771311:web:1562fb32a3796f08c487da"})),b=s(3),d=function(e){var t=e.email,s=e.setEmail,n=e.password,c=e.setPassword,a=e.handleLogin,r=e.handleSingUp,i=e.hasAccount,o=e.changeHasAccount,u=e.emailError,j=e.passwordError;return Object(b.jsx)("section",{className:"login",children:Object(b.jsxs)("div",{className:"loginContainer",children:[Object(b.jsx)("label",{children:"Username"}),Object(b.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return s(e.target.value)}}),Object(b.jsx)("p",{className:"errorMsg",children:u}),Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",required:!0,value:n,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)("p",{className:"errorMsg",children:j}),Object(b.jsx)("div",{className:"btnContainer",children:i?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:a,children:"Sign In"}),Object(b.jsxs)("p",{children:["Dont have an account?",Object(b.jsx)("span",{onClick:function(){return o(!i)},children:"Sign up"})]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:r,children:"Sing up"}),Object(b.jsxs)("p",{children:["Have an account?",Object(b.jsx)("span",{onClick:function(){return o(!i)},children:"Sing in"})]})]})})]})})},h=s(19),p=s(43).create({baseURL:"https://stas-base-default-rtdb.europe-west1.firebasedatabase.app/"}),O=function(){return p.get("-MZmCjb4QXkV2wpRu-MB.json")},f="SET_POSTS",x="CHANGE_HAS_ACCOUNT",m="SET_USER",g={posts:null,hasAccount:!1,user:null},v=function(e){return{type:m,user:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(h.a)(Object(h.a)({},e),{},{posts:t.posts});case x:return Object(h.a)(Object(h.a)({},e),{},{hasAccount:t.hasAccount});case m:return Object(h.a)(Object(h.a)({},e),{},{user:t.user});default:return e}},S=Object(j.b)((function(e){return{hasAccount:e.page.hasAccount,userInRedux:e.page.user}}),{changeHasAccount:function(e){return{type:x,hasAccount:e}},setUserInState:v})((function(e){var t=e.hasAccount,s=e.changeHasAccount,c=e.userInRedux,a=e.setUserInState,r=Object(n.useState)(""),i=Object(u.a)(r,2),j=(i[0],i[1]),h=Object(n.useState)(""),p=Object(u.a)(h,2),O=p[0],f=p[1],x=Object(n.useState)(""),m=Object(u.a)(x,2),g=m[0],v=m[1],w=Object(n.useState)(""),S=Object(u.a)(w,2),A=S[0],C=S[1],N=Object(n.useState)(""),k=Object(u.a)(N,2),y=k[0],I=k[1],E=function(){C(""),I("")},U=function(){l.auth().onAuthStateChanged((function(e){e?(f(""),v(""),j(e)):j("")}))};return Object(n.useEffect)((function(){U()}),[]),Object(b.jsx)("div",{children:c?Object(b.jsx)(o.a,{to:"/"}):Object(b.jsx)(d,{email:O,setEmail:f,password:g,setPassword:v,handleLogin:function(){E(),l.auth().signInWithEmailAndPassword(O,g).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":C(e.message);break;case"auth/wrong-password":I(e.message)}})).then((function(e){e&&a(e.user)}))},handleSingUp:function(){E(),l.auth().createUserWithEmailAndPassword(O,g).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":C(e.message);break;case"auth/weak-password":I(e.message)}})).then((function(e){e&&a(e.user)}))},hasAccount:t,changeHasAccount:s,emailError:A,passwordError:y})})})),A=(s(83),Object(j.b)((function(e){return{user:e.page.user}}),{setUserInState:v})((function(e){var t=e.user,s=e.setUserInState;return Object(b.jsxs)("header",{children:[Object(b.jsx)("ul",{className:"nav",children:Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/",children:"\u041e\u0431\u0437\u043e\u0440\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u043c\u044b"})})}),Object(b.jsxs)("div",{className:"auth",children:[t?Object(b.jsx)("span",{style:{color:"#fff",marginRight:"20px"},children:t.email}):null,t?Object(b.jsx)("a",{onClick:function(){l.auth().signOut(),s(null)},children:"\u0412\u044b\u0445\u043e\u0434"}):Object(b.jsx)(i.b,{to:"/auth",children:"\u0412\u0445\u043e\u0434"})]})]})}))),C=s(33),N=s.n(C),k=s(44),y=s(45),I=s(46),E=s(50),U=s(49),F=(s(85),s(86),function(e){var t=e.item;return Object(b.jsxs)("li",{className:"post-item",children:[Object(b.jsxs)("div",{className:"post-info",children:[Object(b.jsx)("h2",{className:"post-title",children:t.title}),Object(b.jsx)("h2",{className:"post-desctiption",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(b.jsxs)("p",{className:"post-text",children:[" ",t.shortText]}),Object(b.jsxs)("p",{className:"post-mark",children:["\u041e\u0446\u0435\u043d\u043a\u0430: ",t.mark]})]}),Object(b.jsx)("div",{className:"post-img",children:Object(b.jsx)("img",{src:t.img,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u043e\u0441\u0442\u0430"})})]})}),P=function(e){return Object(b.jsx)("div",{className:"main",children:Object(b.jsx)("ul",{className:"posts",children:e.posts.map((function(e){return Object(b.jsx)(F,{item:e},e.img)}))})})},T=(s(87),function(e){return Object(b.jsx)("div",{className:"loader",children:Object(b.jsxs)("div",{className:"lds-ring",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})})}),H=function(e){Object(E.a)(s,e);var t=Object(U.a)(s);function s(){return Object(y.a)(this,s),t.apply(this,arguments)}return Object(I.a)(s,[{key:"componentDidMount",value:function(){var e=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getPostsTC();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:null===this.props.posts?Object(b.jsx)(T,{}):Object(b.jsx)(P,{posts:this.props.posts})})}}]),s}(c.a.Component),L=Object(j.b)((function(e){return{posts:e.page.posts}}),{getPostsTC:function(){return function(e){O().then((function(t){return e((s=Object.values(t.data),{type:f,posts:s}));var s}))}}})(H);var R=function(){return Object(b.jsx)(i.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(A,{}),Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{path:"/auth",component:S}),Object(b.jsx)(o.b,{path:"/",component:L})]})]})})},M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,89)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))},B=s(27),D=s(47),_=Object(B.b)({page:w}),q=Object(B.c)(_,Object(B.a)(D.a));window.store=q;var G=q;r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(j.a,{store:G,children:Object(b.jsx)(R,{})})}),document.getElementById("root")),M()}},[[88,1,2]]]);
//# sourceMappingURL=main.cbbfe7fc.chunk.js.map