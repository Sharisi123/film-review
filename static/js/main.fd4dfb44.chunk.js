(this["webpackJsonpstas-profile"]=this["webpackJsonpstas-profile"]||[]).push([[0],{55:function(e,t,s){},56:function(e,t,s){},77:function(e,t,s){},79:function(e,t,s){},84:function(e,t,s){},86:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){"use strict";s.r(t);var n=s(2),c=s.n(n),a=s(25),r=s.n(a),i=(s(55),s(22)),u=s(10),o=(s(56),s(17)),j=s(27),l=s.n(j),b=s(18),d=(s(77),s(3)),h=Object(b.b)((function(e){return{user:e.page.user}}))((function(e){var t=e.user,s=Object(n.useState)(""),c=Object(o.a)(s,2),a=c[0],r=c[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),j=u[0],b=u[1],h=Object(n.useState)(""),p=Object(o.a)(h,2),O=p[0],x=p[1],f=Object(n.useState)(""),m=Object(o.a)(f,2),g=m[0],v=m[1];return Object(d.jsxs)("div",{className:"add-post",children:[Object(d.jsx)("div",{className:"add-post-title",children:Object(d.jsx)("h2",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})}),Object(d.jsxs)("div",{className:"add-post-content",children:[Object(d.jsxs)("div",{className:"first-input",children:[Object(d.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430"}),Object(d.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)},value:a})]}),Object(d.jsxs)("div",{className:"second-input",children:[Object(d.jsx)("label",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(d.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},value:j})]}),Object(d.jsxs)("div",{className:"third-input",children:[Object(d.jsx)("label",{children:"\u041e\u0446\u0435\u043d\u043a\u0430"}),Object(d.jsx)("input",{type:"text",onChange:function(e){return x(e.target.value)},value:O})]}),Object(d.jsxs)("div",{className:"fourth-input",children:[Object(d.jsx)("label",{children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"}),Object(d.jsx)("input",{type:"text",onChange:function(e){return v(e.target.value)},value:g})]}),Object(d.jsx)("div",{className:"button-container",children:Object(d.jsx)("button",{onClick:function(){l.a.post("https://stas-base-default-rtdb.europe-west1.firebasedatabase.app/-MZmCjb4QXkV2wpRu-MB.json",{title:a,shortText:j,mark:O,img:g,author:t.email})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})})]})]})})),p=(s(79),s(48).a.initializeApp({apiKey:"AIzaSyC3CiIFO9Gp4Vkq85gFS7GUT22Lx4-HytA",authDomain:"stas-base.firebaseapp.com",databaseURL:"https://stas-base-default-rtdb.europe-west1.firebasedatabase.app",projectId:"stas-base",storageBucket:"stas-base.appspot.com",messagingSenderId:"481457771311",appId:"1:481457771311:web:1562fb32a3796f08c487da"})),O=function(e){var t=e.email,s=e.setEmail,n=e.password,c=e.setPassword,a=e.handleLogin,r=e.handleSingUp,i=e.hasAccount,u=e.changeHasAccount,o=e.emailError,j=e.passwordError;return Object(d.jsx)("section",{className:"login",children:Object(d.jsxs)("div",{className:"loginContainer",children:[Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return s(e.target.value)}}),Object(d.jsx)("p",{className:"errorMsg",children:o}),Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)("input",{type:"password",required:!0,value:n,onChange:function(e){return c(e.target.value)}}),Object(d.jsx)("p",{className:"errorMsg",children:j}),Object(d.jsx)("div",{className:"btnContainer",children:i?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:a,children:"Sign In"}),Object(d.jsxs)("p",{children:["Dont have an account?",Object(d.jsx)("span",{onClick:function(){return u(!i)},children:"Sign up"})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:r,children:"Sing up"}),Object(d.jsxs)("p",{children:["Have an account?",Object(d.jsx)("span",{onClick:function(){return u(!i)},children:"Sing in"})]})]})})]})})},x=s(20),f=j.create({baseURL:"https://stas-base-default-rtdb.europe-west1.firebasedatabase.app/"}),m=function(){return f.get("-MZmCjb4QXkV2wpRu-MB.json")},g="SET_POSTS",v="CHANGE_HAS_ACCOUNT",N="SET_USER",S={posts:null,hasAccount:!1,user:null},w=function(e){return{type:N,user:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(x.a)(Object(x.a)({},e),{},{posts:t.posts});case v:return Object(x.a)(Object(x.a)({},e),{},{hasAccount:t.hasAccount});case N:return Object(x.a)(Object(x.a)({},e),{},{user:t.user});default:return e}},A=Object(b.b)((function(e){return{hasAccount:e.page.hasAccount,userInRedux:e.page.user}}),{changeHasAccount:function(e){return{type:v,hasAccount:e}},setUserInState:w})((function(e){var t=e.hasAccount,s=e.changeHasAccount,c=e.userInRedux,a=e.setUserInState,r=Object(n.useState)(""),i=Object(o.a)(r,2),j=(i[0],i[1]),l=Object(n.useState)(""),b=Object(o.a)(l,2),h=b[0],x=b[1],f=Object(n.useState)(""),m=Object(o.a)(f,2),g=m[0],v=m[1],N=Object(n.useState)(""),S=Object(o.a)(N,2),w=S[0],C=S[1],A=Object(n.useState)(""),k=Object(o.a)(A,2),y=k[0],I=k[1],E=function(){C(""),I("")},U=function(){p.auth().onAuthStateChanged((function(e){e?(x(""),v(""),j(e)):j("")}))};return Object(n.useEffect)((function(){U()}),[]),Object(d.jsx)("div",{children:c?Object(d.jsx)(u.a,{to:"/"}):Object(d.jsx)(O,{email:h,setEmail:x,password:g,setPassword:v,handleLogin:function(){E(),p.auth().signInWithEmailAndPassword(h,g).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":C(e.message);break;case"auth/wrong-password":I(e.message)}})).then((function(e){e&&a(e.user)}))},handleSingUp:function(){E(),p.auth().createUserWithEmailAndPassword(h,g).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":C(e.message);break;case"auth/weak-password":I(e.message)}})).then((function(e){e&&a(e.user)}))},hasAccount:t,changeHasAccount:s,emailError:w,passwordError:y})})})),k=(s(84),Object(b.b)((function(e){return{user:e.page.user}}),{setUserInState:w})((function(e){var t=e.user,s=e.setUserInState;return Object(d.jsxs)("header",{children:[Object(d.jsx)("ul",{className:"nav",children:Object(d.jsxs)("li",{children:[Object(d.jsx)(i.b,{to:"/",children:"\u041e\u0431\u0437\u043e\u0440\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u043c\u044b"}),t?Object(d.jsx)(i.b,{to:"/add-post",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u0437\u043e\u0440"}):null]})}),Object(d.jsxs)("div",{className:"auth",children:[t?Object(d.jsx)("span",{style:{color:"#fff",marginRight:"20px"},children:t.email}):null,t?Object(d.jsx)("a",{className:"link",onClick:function(){p.auth().signOut(),s(null)},children:"\u0412\u044b\u0445\u043e\u0434"}):Object(d.jsx)(i.b,{to:"/auth",children:"\u0412\u0445\u043e\u0434"})]})]})}))),y=s(34),I=s.n(y),E=s(44),U=s(45),T=s(46),F=s(50),P=s(49),H=(s(86),s(87),function(e){var t=e.item;return Object(d.jsxs)("li",{className:"post-item",children:[Object(d.jsxs)("div",{className:"post-info",children:[Object(d.jsx)("h2",{className:"post-title",children:t.title}),Object(d.jsx)("h2",{className:"post-desctiption",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(d.jsxs)("p",{className:"post-text",children:[" ",t.shortText]}),Object(d.jsxs)("p",{className:"post-mark",children:["\u041e\u0446\u0435\u043d\u043a\u0430: ",t.mark]}),Object(d.jsxs)("p",{className:"post-author",children:["\u0410\u0432\u0442\u043e\u0440: ",t.author?t.author:"admin"]})]}),Object(d.jsx)("div",{className:"post-img",children:Object(d.jsx)("img",{src:t.img,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u043e\u0441\u0442\u0430"})})]})}),M=function(e){return Object(d.jsx)("div",{className:"main",children:Object(d.jsx)("ul",{className:"posts",children:e.posts.map((function(e){return Object(d.jsx)(H,{item:e},e.img)}))})})},R=(s(88),function(e){return Object(d.jsx)("div",{className:"loader",children:Object(d.jsxs)("div",{className:"lds-ring",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})}),L=function(e){Object(F.a)(s,e);var t=Object(P.a)(s);function s(){return Object(U.a)(this,s),t.apply(this,arguments)}return Object(T.a)(s,[{key:"componentDidMount",value:function(){var e=Object(E.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getPostsTC();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(d.jsx)(d.Fragment,{children:null===this.props.posts?Object(d.jsx)(R,{}):Object(d.jsx)(M,{posts:this.props.posts})})}}]),s}(c.a.Component),B=Object(b.b)((function(e){return{posts:e.page.posts}}),{getPostsTC:function(){return function(e){m().then((function(t){return e((s=Object.values(t.data),{type:g,posts:s}));var s}))}}})(L);var D=function(){return Object(d.jsx)(i.a,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(k,{}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{path:"/add-post",component:h}),Object(d.jsx)(u.b,{path:"/auth",component:A}),Object(d.jsx)(u.b,{path:"/",component:B})]})]})})},_=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,90)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))},q=s(28),G=s(47),V=Object(q.b)({page:C}),z=Object(q.c)(V,Object(q.a)(G.a));window.store=z;var J=z;r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(b.a,{store:J,children:Object(d.jsx)(D,{})})}),document.getElementById("root")),_()}},[[89,1,2]]]);
//# sourceMappingURL=main.fd4dfb44.chunk.js.map